# Define parameters using splatting
$dbParams = @{
    SqlInstance      = "S2S005G2\POD07_DEV"
    Database         = "DB_MSS0_DEMO"
    DataDrive        = "G,H"
    LogDrive         = "E"
    DataSize         = "200MB"
    DataGrowth       = "100MB"
    LogSize          = "100MB"
    LogGrowth        = "100MB"
    NumberOfDataFiles = 4
}

# Execute the function with splatting
Invoke-DatabaseCreation @dbParams


-- Check for high write latency on the log drive
SELECT
    io_stall_write_ms / NULLIF(num_of_writes, 0) AS avg_write_latency_ms,
    io_stall_write_ms,
    num_of_writes
FROM sys.dm_io_virtual_file_stats(DB_ID('mydb'), 2) -- 2 = log file
WHERE file_id = 2;
